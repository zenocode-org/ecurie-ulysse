---
import Layout from "../layouts/Layout.astro";
import Container from "../components/shared/Container.astro";
import Title2 from "../components/shared/Title2.astro";
import Title3 from "../components/shared/Title3.astro";
import Paragraph from "../components/shared/Paragraph.astro";
import LazyImage from "../components/shared/LazyImage.astro";
import ImageGallery from "../components/shared/ImageGallery.astro";
import ScheduleGrid from "../components/shared/ScheduleGrid.astro";
import DownloadCard from "../components/shared/DownloadCard.astro";
import BtnLink from "../components/shared/BtnLink.astro";
import SubTitle2 from "../components/shared/SubTitle2.astro";
import CavasoftCard from "../components/sections/prestations/components/CavasoftCard.astro";
import PrestationsFeatures from "../components/sections/prestations/components/PrestationsFeatures.astro";
import { prestationsData } from "../components/sections/prestations/data.ts";
import logoToubinClement from "../images/commun/logoToubinClement.png";
---

<Layout title="Prestations - Les Écuries d'Ulysse">
  <main class="flex flex-col gap-y-20 md:gap-y-40 overflow-hidden py-12 pt-24 md:pt-32">
    <!-- Hero Section -->
    <Container size="wide">
      <SubTitle2 className="text-center max-w-3xl mx-auto">
        Découvrez l'ensemble de nos services et prestations pour vous et vos chevaux.
      </SubTitle2>
    </Container>

    <!-- Cavasoft Section -->
    <Container size="wide" className="mx-auto flex flex-col items-center justify-center text-center">
      <CavasoftCard
        title={prestationsData.cavasoft.title}
        subtitle={prestationsData.cavasoft.subtitle}
        description={prestationsData.cavasoft.description}
        features={prestationsData.cavasoft.features}
        link={prestationsData.cavasoft.link}
        linkText={prestationsData.cavasoft.linkText}
      />
      <div class="mt-6">
        <p class="font-semibold mb-2">Vous aurez également accès aux modules suivants :</p>
        <ul class="list-disc list-inside space-y-2 text-accent-600 dark:text-accent-300">
          <li>Le dashboard (tableau de bord)</li>
          <li>Les reprises (tous membres confondus)</li>
          <li>Les activités (tous membres confondus) et la possibilité de s'inscrire</li>
          <li>Les factures (tous membres confondus) et le paiement en ligne</li>
        </ul>
        <p class="text-sm italic text-accent-600 dark:text-accent-300 mt-4">
          Vous pouvez consulter la notice d'utilisation (onglet en haut à droite) en cas de besoin
        </p>
      </div>
    </Container>

    <!-- Prestations Overview -->
    <Container size="wide">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="space-y-4">
          <Title3>Les prestations</Title3>
          <LazyImage
            src={logoToubinClement}
            alt="Logo Toubin Clément"
            className="w-64 rounded-lg"
          />
        </div>
        <div class="space-y-4">
          <Title3>{prestationsData.toubinClement.title}</Title3>
          <p class="text-lg font-semibold text-primary-600 dark:text-primary-400">
            {prestationsData.toubinClement.subtitle}
          </p>
        </div>
      </div>
    </Container>

    <!-- Club Section -->
    <Container size="wide">
      <Title3>{prestationsData.club.title}</Title3>
      <Paragraph className="mb-6">
        {prestationsData.club.description}
      </Paragraph>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
        {prestationsData.club.logos.map((logo, index) => (
          <div class="flex items-center justify-center p-4 bg-box-bg dark:bg-base-dark-800 rounded-lg">
            {typeof logo === "string" ? (
              <img
                src={logo}
                alt="Logo partenaire"
                class="max-h-20 w-auto object-contain"
                loading="lazy"
              />
            ) : (
              <LazyImage
                src={logo}
                alt={`Logo partenaire ${index + 1}`}
                class="max-h-20 w-auto object-contain"
              />
            )}
          </div>
        ))}
      </div>
    </Container>

    <!-- Prestations Features Section -->
    <PrestationsFeatures />

    <!-- Schedule Section -->
    <Container size="wide">
      <Title2>{prestationsData.scheduleSeason}</Title2>
      <ScheduleGrid schedules={prestationsData.schedule} />
      <p class="text-center text-accent-600 dark:text-accent-300 mt-6 italic">
        {prestationsData.scheduleNote}
      </p>
    </Container>

    <!-- Galops Section -->
    <Container size="wide">
      <Title2>Les Galops et Galops Poneys</Title2>
      <ImageGallery
        images={prestationsData.galops.images.map((img, index) => ({
          src: typeof img === "string" ? img : img.src,
          alt: `Galops ${index + 1}`,
        }))}
        className="mb-8"
      />
      <div class="text-center">
        {typeof prestationsData.galops.conseilsParents === "string" ? (
          <img
            src={prestationsData.galops.conseilsParents}
            alt="Conseils pour les parents"
            class="max-w-2xl mx-auto rounded-lg shadow-lg"
            loading="lazy"
          />
        ) : (
          <LazyImage
            src={prestationsData.galops.conseilsParents}
            alt="Conseils pour les parents"
            class="max-w-2xl mx-auto rounded-lg shadow-lg"
          />
        )}
      </div>
    </Container>


    <!-- Anniversaire Section -->
    <Container size="wide">
      <Title3>{prestationsData.anniversaire.title}</Title3>
      <Paragraph className="mb-6">
        {prestationsData.anniversaire.description}
      </Paragraph>
      <ImageGallery
        images={prestationsData.anniversaire.images.map((img, index) => ({
          src: typeof img === "string" ? img : img.src,
          alt: `Anniversaire ${index + 1}`,
        }))}
      />
    </Container>

    <!-- Opening Hours Section -->
    <Container size="wide">
      <div class="bg-box-bg dark:bg-base-dark-800 rounded-lg p-8 shadow-lg border-2 border-primary-500">
        <Title3 className="mb-6">{prestationsData.openingHours.title}</Title3>
        <ul class="space-y-3">
          {prestationsData.openingHours.schedule.map((item) => (
            <li class="text-lg text-accent-600 dark:text-accent-300">
              {item}
            </li>
          ))}
        </ul>
      </div>
    </Container>

    <!-- Documents Section -->
    <Container size="wide">
      <Title2>Documents à télécharger</Title2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        {prestationsData.documents.map((doc) => (
          <DownloadCard
            title={doc.title}
            description={doc.description}
            image={doc.image}
            file={doc.file}
          />
        ))}
      </div>
    </Container>
  </main>
</Layout>

