---
import type { ImageMetadata } from "astro";
import Title2 from "../../../shared/Title2.astro";
import ImageGallery from "../../../shared/ImageGallery.astro";
import Button from "../../../shared/Button.astro";

export interface Props {
  title: string;
  description: string;
  images: Array<string | ImageMetadata>;
  link?: string;
  linkText?: string;
  className?: string;
}

const { title, description, images, link, linkText, className = "" } =
  Astro.props;

const galleryImages = images.map((img, index) => ({
  src: typeof img === "string" ? img : img.src,
  alt: `${title} - Image ${index + 1}`,
}));
---

<div class={`${className}`}>
  <Title2>{title}</Title2>
  <p class="text-accent-600 dark:text-accent-300 mb-6">{description}</p>
  <ImageGallery images={galleryImages} className="mb-6" />
  {link && linkText && (
    <div class="text-center">
      <a href={link} target="_blank" rel="noopener noreferrer">
        <Button color="primary" variant="solid">
          {linkText}
        </Button>
      </a>
    </div>
  )}
</div>

