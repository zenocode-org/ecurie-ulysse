---
import type { ImageMetadata } from "astro";
import LazyImage from "../../../shared/LazyImage.astro";
import Title2 from "../../../shared/Title2.astro";
import Paragraph from "../../../shared/Paragraph.astro";

export interface Props {
  image: string | ImageMetadata;
  title: string;
  message: string;
  closing?: string;
  signature: string;
  className?: string;
}

const { image, title, message, closing, signature, className = "" } =
  Astro.props;
---

<section class={`py-12 md:py-20 ${className}`}>
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <div class="order-2 md:order-1">
        <Title2>{title}</Title2>
        <Paragraph className="mb-4 whitespace-pre-line">{message}</Paragraph>
        {closing && (
          <Paragraph className="mb-4 font-semibold">{closing}</Paragraph>
        )}
        <p class="text-accent-600 dark:text-accent-300 italic mt-6">
          {signature}
        </p>
      </div>
      <div class="order-1 md:order-2">
        <div class="rounded-lg overflow-hidden shadow-lg">
          {typeof image === "string" ? (
            <img
              src={image}
              alt={title}
              class="w-full h-auto object-cover"
              loading="lazy"
            />
          ) : (
            <LazyImage
              src={image}
              alt={title}
              class="w-full h-auto object-cover"
            />
          )}
        </div>
      </div>
    </div>
  </div>
</section>

